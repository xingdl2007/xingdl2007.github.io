{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/puzzle/","webpackCompilationHash":"bc0d96a3079a077020f1","result":{"data":{"blog":{"excerpt":"…","html":"<p>来自《算法设计与分析基础》（第三版）和一些不知道在哪看到的谜题。还有一些在<a href=\"https://xingdl2007.gitbooks.io/introduction-to-the-design-and-analysis-of-algori/content/\">这里</a>。</p>\n<h5>欧几里德游戏</h5>\n<p>一开始，板上写有两个不相等的正整数。两个玩家交替写数字，每一次，当前玩家都必须在板上写出任意两个板上数字的差，而且这个数字必须是新的，也就是说，不能与板上任何一个已有的数字相同。当玩家再也写不出新数字时，他就输了。请问，你是选择先行动还是后行动？</p>\n<hr>\n<p>答：假设m，n为最开始的两个正整数，其中m为较大的那个;</p>\n<p><code class=\"language-text\">N = m/gcd(m,n)</code>\n如果<code class=\"language-text\">N</code>为偶数，则后行动；若为奇数，则先行动；通过观察可以发现，所有写出的数字，均为<code class=\"language-text\">gcd</code>的整倍数，从<code class=\"language-text\">1</code>到<code class=\"language-text\">m/gcd</code>，因此，不难推出上述结论。</p>\n<h5>带锁的门</h5>\n<p>在走廊上有<code class=\"language-text\">n</code>个带锁的门，从<code class=\"language-text\">1</code>到<code class=\"language-text\">n</code>依次编号。最初所有的门都是关着的。我们从门前经过<code class=\"language-text\">n</code>次，每一次都从<code class=\"language-text\">1</code>号门开始。在第<code class=\"language-text\">i</code>次经过时<code class=\"language-text\">（i=1,2,..,n)</code>我们改变i的整数倍号锁的状态：也就是说如果门是关着的，就打开它；如果门是打开的，就关上它。举例来说，第一次经过之后，所有的门都是打开的；第二次经过时，我们只改变偶数门的状态（<code class=\"language-text\">2</code>号门，<code class=\"language-text\">4</code>号门，<code class=\"language-text\">……</code>）这样一来，第二次经过之后，偶数门是关着的，而奇数门是开着的；第三次经过时，我们把<code class=\"language-text\">3</code>号门关上（该门在第一次经过时被打开），打开<code class=\"language-text\">6</code>号门（该门在第二次经过时被关上），以此类推。在最后一次经过后，哪些门是打开的，哪些是关上的？有多少打开的门？</p>\n<hr>\n<p>答：对于<code class=\"language-text\">i</code>门，如果它没有整数的平方根<code class=\"language-text\">（1,4,9…）</code>，那它必然会有偶数个因子，所以在经过<code class=\"language-text\">n</code>次后，总是保持最初的状态；而对于<code class=\"language-text\">1,4,9</code>这样的门，只有奇数个因子，所以会在最后保持打开的状态；因此，总共有<code class=\"language-text\">int(sqrt(n))</code>(下取整，根号<code class=\"language-text\">n</code>)个门是打开的状态，其他均为关闭的状态。</p>\n<p>两个应用欧几里德以及扩展算法的例子，参考了下面的文章：</p>\n<p><a href=\"http://blog.sina.com.cn/s/blog_7064e7850100yeu1.html\">http://blog.sina.com.cn/s/blog_7064e7850100yeu1.html</a>\n<a href=\"http://blog.csdn.net/dream_ysl/article/details/6683314\">http://blog.csdn.net/dream_ysl/article/details/6683314</a></p>\n<h5>狮子和人过河</h5>\n<p><code class=\"language-text\">3</code>个人和<code class=\"language-text\">3</code>头狮子站在河的一边，要用一条船把他们运送到河对岸去，但是船每次只能运送两件物体（人或狮子）。不能让留在岸边的狮子比人多，两岸皆然，因为那样狮子会吃人。你该怎么送他们过河呢？</p>\n<hr>\n<p>答：根据题目的限制进行分析，另外狮子是不会划船的，需要人来划船。</p>\n<ul>\n<li>首先<code class=\"language-text\">1</code>人，<code class=\"language-text\">1</code>狮子,坐船到对岸；</li>\n<li>人回来，此时人只能再带<code class=\"language-text\">1</code>狮子到对岸，否则会有人被吃掉；</li>\n<li>人回来，此时对岸有<code class=\"language-text\">2</code>狮子，若再带狮子过去，则无法完成任务；因此人只能带<code class=\"language-text\">1</code>人过去，此时对岸有<code class=\"language-text\">2</code>人，<code class=\"language-text\">2</code>狮子；</li>\n<li>此时，只能<code class=\"language-text\">1</code>人，<code class=\"language-text\">1</code>狮子回来，否则两边有人被吃掉（关键步骤）；</li>\n<li>人再将<code class=\"language-text\">1</code>人送到对岸，此时只剩下<code class=\"language-text\">2</code>狮子留在原地；</li>\n<li>人再来回两次，每次不上岸，直接接上狮子从到对岸；</li>\n</ul>\n<p>经过以上的步骤，<code class=\"language-text\">3</code>人和<code class=\"language-text\">3</code>狮子成功的过了河。这个过程的关键点是<code class=\"language-text\">d</code>，如果在<code class=\"language-text\">b</code>之后，还选择将狮子带到对岸，则会进入死胡同。所以在将<code class=\"language-text\">2</code>个狮子送到对岸后，只能再带两个人过去，这时唯一的选择，就是再带一个狮子回来，似乎是做了无用功，但是这一点对整个问题的解决至关重要。</p>\n<h5>用沙漏计时</h5>\n<p>用一个能计时<code class=\"language-text\">4</code>分钟的沙漏和能计时<code class=\"language-text\">7</code>分钟的沙漏，精确计时<code class=\"language-text\">9</code>分钟。</p>\n<hr>\n<p>答：这个问题的关键是要精确的计时<code class=\"language-text\">1</code>分钟，因为我们有可以计时<code class=\"language-text\">4</code>分钟的沙漏，使用它计时两次，然后再加上<code class=\"language-text\">1</code>分钟，就完成了精确计时<code class=\"language-text\">9</code>分钟的目标。另外，我们还有<code class=\"language-text\">7</code>分钟的沙漏，而<code class=\"language-text\">4 * 2 - 7 = 1</code>启发我们去构造1分钟的沙漏。</p>\n<ul>\n<li>将<code class=\"language-text\">4</code>分钟、<code class=\"language-text\">7</code>分钟的沙漏同时开始计时；</li>\n<li>待<code class=\"language-text\">4</code>分钟沙漏结束后，立即翻转；<code class=\"language-text\">7</code>分钟的沙漏不动；</li>\n<li>待<code class=\"language-text\">7</code>分钟的沙漏结束后，立即翻转；<code class=\"language-text\">4</code>分钟的沙漏不动；</li>\n<li>待<code class=\"language-text\">4</code>分钟沙漏结束后，将两个沙漏同时翻转；</li>\n<li><code class=\"language-text\">7</code>分钟沙漏结束后，即完成了<code class=\"language-text\">9</code>分钟的精确计时</li>\n</ul>\n<p>另外还有其他的方法，但是此方法可以不需要等待，直接开始计时，关键点是将<code class=\"language-text\">1</code>分钟的时间复制到<code class=\"language-text\">7</code>分钟的沙漏中去。</p>\n<h5>扑克牌</h5>\n<p>在一个黑暗的房间，有人塞给你一叠牌，有<code class=\"language-text\">N</code>张面朝上，其余的面朝下。你看不见牌，怎么才能把牌分成两堆，让每堆面朝上的牌数目相同呢？</p>\n<hr>\n<p>答：注意题目中并没有说要两堆包含相同数目的牌，而只是说要面朝上的牌数目相同，甚至不是<code class=\"language-text\">N/2</code>。\n假设第一推有<code class=\"language-text\">M</code>张牌，其中有<code class=\"language-text\">a</code>张朝上，一共有<code class=\"language-text\">A</code>张牌。由于黑暗，我们能够做的操作仅仅是将牌进行翻转，因此共有三种情况。</p>\n<blockquote>\n<p>case A:\n第一堆: <code class=\"language-text\">a</code>\n第二堆: <code class=\"language-text\">N - a</code></p>\n</blockquote>\n<blockquote>\n<p>case B:\n第一堆: <code class=\"language-text\">M - a</code>\n第二堆: <code class=\"language-text\">N - a</code></p>\n</blockquote>\n<blockquote>\n<p>case C:\n第一堆: <code class=\"language-text\">a</code>\n第二堆: <code class=\"language-text\">A - M - N + a</code></p>\n</blockquote>\n<ul>\n<li>对于第一钟情况，无法得到可操作的方案。</li>\n<li>第二种情况，若要使<code class=\"language-text\">M - a = N - a</code>显然，<code class=\"language-text\">M = N</code>，因此我们只需要输出N张牌，然后将其翻转，那么就获得了两堆牌并且包含相同数目的面朝上的牌。</li>\n<li>第三种情况，则要求<code class=\"language-text\">A - M - N = 0</code>即 <code class=\"language-text\">M + N = A</code>和第二种情况本质上一致，即输出<code class=\"language-text\">A - N</code>张后，将剩余的翻转。</li>\n</ul>\n<h5>箱子选择</h5>\n<p>有<code class=\"language-text\">3</code>口箱子，一口箱子里面装有贵重的奖品，另外两口箱子是空的。你可以选择一口箱子，但兵不告诉你里面是否有奖品。相反，人们打开了你没选的那两口箱子之一，里面是空的。你可以保留最初选中的箱子（留），或者换另外一口没有打开的箱子（换）。你会怎么做，“留”还是“换”？</p>\n<hr>\n<p>答：这个问题非常有迷惑性，因为在题目中有故意隐含的信息，大多数人都会忽略这一点。那就是，人们打开了你没选的那两口箱子之一，这样的选择是故意的，还是随机的。不同的选择会影响正确的选择，根据题目的设定，往往是“故意的”。</p>\n<p>因此，如果打开空箱子的人知道奖品在哪个箱子中，而故意打开没有奖品的哪个，这就大大增加了第三个箱子中有奖品的概率。因此，选择“换”就是比较明智的了。</p>\n<p>从概率的角度来分析，如果打开空箱子的选择是随机的，那么无论选择“留”还是“换”，拿到奖品的概率均由原来的<code class=\"language-text\">1/3</code>上升到了<code class=\"language-text\">1/2</code>；如果打开是空箱子的选择行为时故意的，如果选择“留”，那么拿到奖品的概率是<code class=\"language-text\">1/3</code>，而如果选择“换”，其概率为<code class=\"language-text\">2/3</code>。</p>\n<p>从上面的分析可以看出，无论打开空箱子的选择行为时随机的还是故意的，选择“换”箱子都会有最大的概率拿到奖品。</p>\n<h5>找出跑的最快的三匹马</h5>\n<p>你有<code class=\"language-text\">25</code>匹马，需要多少场比赛才能找出跑的最快的<code class=\"language-text\">3</code>匹马？你没有秒表，每场比赛只能同时让<code class=\"language-text\">5</code>匹马参赛。</p>\n<hr>\n<p>答：首先，容易想到的是将<code class=\"language-text\">25</code>匹马分成<code class=\"language-text\">5</code>组，每组进行一轮比赛，选出各组的第一名，然后再让这<code class=\"language-text\">5</code>个第一名进行一次比赛。如果你认为这样就可以选出前三名，那就错了。因为你忽略了一个重要问题：本小组的第一名，一定会比其他组所有马跑的都快吗？这显然是不成立的。</p>\n<p>因此正确的做法是这样的：</p>\n<ul>\n<li>将<code class=\"language-text\">25</code>匹马分成<code class=\"language-text\">5</code>组，进行比赛，同时记录每组马的名次，一共要进行<code class=\"language-text\">5</code>场；</li>\n<li>将<code class=\"language-text\">5</code>组的头名再进行一场比赛，可以选出跑的最快的马，此阶段要进行<code class=\"language-text\">1</code>场比赛；</li>\n<li>将上一轮中选出的最快的马牵走，用它所在组的第二名代替进行比赛，即可选出第二名，此阶段要进行1场比赛；</li>\n<li>同上，可选出最快的第三匹，此阶段要进行1场比赛；</li>\n</ul>\n<p>因此，需要进行<code class=\"language-text\">5 + 1 + 1 + 1 = 8</code>场比赛，才能找出跑的最快的三匹马。</p>\n<h5>快速找到对应的电线</h5>\n<p>一幢大楼的底层有<code class=\"language-text\">1001</code>根电线，这些电线一直延伸到大楼楼顶，你需要确定底层的<code class=\"language-text\">1001</code>个线头和楼顶的<code class=\"language-text\">1001</code>次线头的对应关系。你有一个电池，一个灯泡，和许多很短的电线，你需要上下楼几次才能确定电线接头的对应关系。</p>\n<hr>\n<p>答：这个问题只问需要上下楼几次，而不关心时间的问题，因此我们只要给出理论值即可，不用考虑是否高效。\n假设人初始在楼下：</p>\n<ul>\n<li>首先将<code class=\"language-text\">1001</code>根电线<code class=\"language-text\">2</code>个一组，使用短线连接起来，这样会有单独的一根；</li>\n<li>接着上楼，使用电池和灯泡组成电路，将所有能将灯泡点亮的电线归为一组，并且放好，唯一不能和其他组成电路的电线被找到，即确认了一根电线；同时将此确认的电线和其他分好组的其中一组中的某根进行相连，然后下楼。在摆放电线时，顺序非常重要，可以将待确认电线，放在已确认电线的一侧，方便标记。</li>\n<li>到楼下后，将所有的连接好的分组断开，但要保持其分组关系。然后使用电池和灯泡，将已经确认的那根电线和其他任意的电线相连，找到能够点亮灯泡的那个分组，这样就可以确认两外的两条电线了。接着在再将已经确认的三条电线，分别与其他待确认的<code class=\"language-text\">3</code>组中的其中一根相连，然后上楼。</li>\n<li>将已经确认的电线断开，分别使用已经确认的<code class=\"language-text\">3</code>条电线找到其他可点亮灯泡的电线，这样就可以再确认<code class=\"language-text\">3</code>组。</li>\n<li>重复以上过程，直到确认所有电线的连接关系。</li>\n</ul>\n<p>从以上分析过程可看出，这个是一个等比数列，上下楼一趟可确认的电线数目分别为<code class=\"language-text\">1、3、9、27…</code>，而<code class=\"language-text\">3^6 = 729，3^7 = 2187</code>可知，至少要上下楼<code class=\"language-text\">7</code>才能确认所有的<code class=\"language-text\">1001</code>根电线接头的对应关系。在这种方法中，非常依赖电线摆放的顺序，楼上楼下电线的拜访规则要保持一致，这样连接关系才能得到确认。</p>","timeToRead":3,"frontmatter":{"title":"一些谜题","date":"22 Dec 2017","tags":["algorithm"],"category":"programming","cover":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAECBAX/xAAWAQEBAQAAAAAAAAAAAAAAAAABAAL/2gAMAwEAAhADEAAAAebWFpQi1//EABoQAQADAAMAAAAAAAAAAAAAAAEAAgMSEyL/2gAIAQEAAQUCpl466uaEVZyZaf/EABgRAAIDAAAAAAAAAAAAAAAAAAAhAQIR/9oACAEDAQE/AbQ0af/EABcRAQADAAAAAAAAAAAAAAAAAAABAmH/2gAIAQIBAT8BrqX/xAAdEAABAgcAAAAAAAAAAAAAAAAAARECEBIhMUGR/9oACAEBAAY/AneHpU2Nllmh/8QAHBAAAwADAAMAAAAAAAAAAAAAAAERIUFRMYGh/9oACAEBAAE/IW3uzpFKmGWfkq0HpOCQfRU//9oADAMBAAIAAwAAABAwL//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQMBAT8QRDMPYf/EABcRAQEBAQAAAAAAAAAAAAAAAAERACH/2gAIAQIBAT8Qkb3oHf/EABsQAQEAAwEBAQAAAAAAAAAAAAERACExQXGB/9oACAEBAAE/EKzOUs1L8/C4e4Y60vJPM5yRx25EFA4BAwQBPrtwgqbFTW95/9k=","aspectRatio":1.6,"src":"/static/c9cb681fa1c86363ae476253dcf85302/67481/puzzle.jpg","srcSet":"/static/c9cb681fa1c86363ae476253dcf85302/b6231/puzzle.jpg 200w,\n/static/c9cb681fa1c86363ae476253dcf85302/f4032/puzzle.jpg 400w,\n/static/c9cb681fa1c86363ae476253dcf85302/67481/puzzle.jpg 800w,\n/static/c9cb681fa1c86363ae476253dcf85302/c4f3a/puzzle.jpg 1200w,\n/static/c9cb681fa1c86363ae476253dcf85302/f232b/puzzle.jpg 1600w,\n/static/c9cb681fa1c86363ae476253dcf85302/654ed/puzzle.jpg 1920w","sizes":"(max-width: 800px) 100vw, 800px"}}}},"fields":{"slug":"/blog/puzzle/"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/blog/puzzle/","previous":null,"next":{"fields":{"slug":"/blog/jos-lab/"}}}}}